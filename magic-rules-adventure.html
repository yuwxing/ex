<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Rules Adventure - 交互式学习课件</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #1a1a2e;
            color: #e5e5e5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .section {
            background-color: #16213e;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .scene {
            background: linear-gradient(#533483, #a2d2ff);
            border: 2px dashed #e94560;
            padding: 10px;
            margin: 10px 0;
            position: relative;
        }
        .dialog {
            background-color: #e5e5e5;
            color: #16213e;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }
        .bulletin {
            color: #e94560;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .interactive {
            color: #a2d2ff;
            cursor: pointer;
            text-decoration: underline;
        }
        .vocab-list, .rule-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .vocab-item, .rule-card {
            background-color: #533483;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .vocab-item:hover, .rule-card:hover {
            background-color: #6a4c93;
        }
        .checkbox {
            margin-right: 10px;
        }
        .game-area {
            background-color: #1a759f;
            padding: 15px;
            border-radius: 5px;
        }
        .bulletin-animation {
            position: absolute;
            top: 10px;
            right: -50px;
            font-size: 12px;
            color: #ff6b6b;
            animation: slide 3s infinite;
        }
        @keyframes slide {
            0% { right: -50px; opacity: 0; }
            50% { right: 10px; opacity: 1; }
            100% { right: 100px; opacity: 0; }
        }
        .hidden { display: none; }
        .drag-item {
            background-color: #e94560;
            padding: 5px;
            margin: 5px;
            border-radius: 5px;
            cursor: move;
        }
        .drop-zone {
            background-color: #a2d2ff;
            padding: 10px;
            margin: 5px;
            border: 2px dashed #533483;
            min-height: 50px;
        }
        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
        }
        .puzzle-piece {
            background-color: #4caf50;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
        }
        .manual-area {
            border: 2px dotted #e94560;
            padding: 15px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Magic Rules Adventure - 交互式学习课件</h1>
        <p>欢迎进入魔法学院！跟随巫师Anne和Tom，解锁魔法规则，掌握英语魔法！</p>

        <!-- 情景导入 -->
        <div class="section">
            <h2>冒险开始：魔法学院大门</h2>
            <div class="scene">
                <p>场景：魔法学院大门，Anne和Tom穿着巫师袍，手持魔法杖，门上闪烁“规则守护符”。</p>
                <p class="bulletin">Anne: "Tom, welcome to Magic Academy! But we need rules to keep the magic safe!"</p>
                <p>Tom: "Rules? Like—<span class="interactive" onclick="alert('Don’t cast wild spells in the Great Hall!')">Don’t cast wild spells in the Great Hall!</span>"</p>
                <div class="audio">[🎧 插入音频：魔法学院冒险对话]</div>
                <p>点击守护符进入魔法挑战！</p>
                <div class="bulletin-animation">冒险开启！</div>
            </div>
        </div>

        <!-- 词汇学习：魔法谜题（1a） -->
        <div class="section">
            <h2>魔法谜题：解锁规则词汇</h2>
            <div class="scene">
                <p>魔法学院有神秘规则！完成谜题学习词汇，点击魔法卷轴听发音！</p>
                <div class="puzzle-grid">
                    <div class="puzzle-piece" onclick="revealRule('Don’t be late for class. Arrive on time.')">迟到禁令</div>
                    <div class="puzzle-piece" onclick="revealRule('Don’t run or cast spells in the hallways.')">走廊禁令</div>
                    <div class="puzzle-piece" onclick="revealRule('Wear the wizard uniform or robe.')">服装要求</div>
                    <div class="puzzle-piece" onclick="revealRule('Don’t use magic devices in lessons.')">设备禁令</div>
                    <div class="puzzle-piece" onclick="revealRule('Don’t litter. Keep the academy magical and tidy.')">清洁魔法</div>
                    <div class="puzzle-piece" onclick="revealRule('Be polite and respect all wizards.')">礼貌魔法</div>
                    <div class="puzzle-piece" onclick="revealRule('Raise your wand to ask questions.')">提问魔法</div>
                </div>
                <p id="revealedRules"></p>
                <div class="vocab-list">
                    <div class="vocab-item" onclick="playSound('dont-be-late.mp3')">Don’t be late</div>
                    <div class="vocab-item" onclick="playSound('dont-run-spells.mp3')">Don’t run/spells</div>
                    <div class="vocab-item" onclick="playSound('wear-uniform.mp3')">Wear uniform</div>
                    <div class="vocab-item" onclick="playSound('dont-use-magic.mp3')">Don’t use magic</div>
                    <div class="vocab-item" onclick="playSound('dont-litter.mp3')">Don’t litter</div>
                    <div class="vocab-item" onclick="playSound('be-polite.mp3')">Be polite</div>
                    <div class="vocab-item" onclick="playSound('raise-wand.mp3')">Raise wand</div>
                </div>
                <p>小游戏：拖拽一个规则到魔法书！</p>
                <div class="drag-item" draggable="true" ondragstart="drag(event)" id="dragRule">Don’t run in hallways</div>
                <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" id="magicBook">
                    <p>拖到这里记录规则！</p>
                </div>
                <p>写作任务：创造一条新魔法规则，如“Don’t summon creatures in the library.”</p>
                <div class="bulletin-animation">词汇魔法解锁！</div>
            </div>
        </div>

        <!-- 对话练习：魔法对话（1b） -->
        <div class="section">
            <h2>魔法对话：与巫师互动</h2>
            <div class="scene">
                <p>与AI巫师Anne对话，练习魔法规则对话！</p>
                <div class="dialog">
                    <p>Anne: "Greetings, young wizard! What’s your magical name?"</p>
                    <input type="text" id="wizardName" placeholder="输入你的魔法名字">
                    <button onclick="aiResponse()">施展魔法！</button>
                    <p id="aiReply" class="hidden">Tom: "I’m Tom the Novice. Are there many rules in Magic Academy?"</p>
                    <p>继续对话：点击提问规则！</p>
                    <button onclick="showRuleDialog()">问Anne规则</button>
                    <div id="ruleDialog" class="hidden dialog">
                        <p>Anne: "Can we cast spells in the Spell Room?"</p>
                        <button onclick="userReply('Yes, we can, but only safe spells!')">Yes, we can.</button>
                        <p id="aiFollowup" class="hidden">Anne: "What about using magic phones during lessons?"</p>
                        <button onclick="userReply('No, we can’t. Don’t use magic phones in lessons.')">No, we can’t.</button>
                        <p id="aiFinal" class="hidden">Anne: "Brilliant, Tom! You’re a rules master!"</p>
                    </div>
                </div>
                <div class="audio">[🎧 插入音频：1b对话，Anne和Tom魔法对话]</div>
                <p>听力游戏：听录音，找到“Who lost their magic wand?”（答案：Tom）</p>
                <div class="bulletin-animation">对话魔法成功！</div>
            </div>
        </div>

        <!-- 小游戏：魔法任务（1c, 1d） -->
        <div class="section">
            <h2>魔法任务：规则挑战</h2>
            <div class="game-area">
                <p>游戏 1：魔法配对（1c）！解锁句子谜题，拖拽规则完成任务。</p>
                <div id="dragArea">
                    <div draggable="true" class="drag-item" id="action1">cast spells</div>
                    <div draggable="true" class="drag-item" id="action2">wear robes</div>
                    <div draggable="true" class="drag-item" id="action3">litter</div>
                    <div draggable="true" class="drag-item" id="action4">keep clean</div>
                    <div draggable="true" class="drag-item" id="action5">run</div>
                    <div draggable="true" class="drag-item" id="action6">walk</div>
                </div>
                <div class="drop-zone" ondrop="dropSentence(event, 'zone1')" ondragover="allowDrop(event)">
                    <p>Mary can’t ___ in the hallways. She has to ___ slowly.</p>
                </div>
                <div class="drop-zone" ondrop="dropSentence(event, 'zone2')" ondragover="allowDrop(event)">
                    <p>Sally mustn’t ___ at the academy. She has to ___ her uniform.</p>
                </div>
                <div class="drop-zone" ondrop="dropSentence(event, 'zone3')" ondragover="allowDrop(event)">
                    <p>Tony can’t ___. He must ___ the academy magical.</p>
                </div>
                <p>游戏 2：魔法听力（1d）！听录音，找到正确的魔法规则，点击魔法水晶激活。</p>
                <div class="rule-list">
                    <div class="rule-card" onclick="checkRule('Don’t cast spells in hallways')">Don’t cast spells in hallways</div>
                    <div class="rule-card" onclick="checkRule('Wear the wizard uniform')">Wear the wizard uniform</div>
                    <div class="rule-card" onclick="checkRule('Don’t use magic phones in lessons')">Don’t use magic phones in lessons</div>
                </div>
                <div class="audio">[🎧 插入音频：1d录音，识别魔法规则]</div>
                <p>角色扮演（1e）：与同学扮演巫师，讨论“Can Mary cast spells in the Great Hall?”</p>
                <div class="dialog">
                    <p>示例：Wizard 1: "Can Mary cast spells in the Great Hall?"</p>
                    <p>Wizard 2: "No, she can’t. She can only cast safe spells in the Spell Room."</p>
                </div>
                <div class="bulletin-animation">魔法挑战胜利！</div>
            </div>
        </div>

        <!-- 发音练习（Pronunciation） -->
        <div class="section">
            <h2>魔法音符：发音挑战</h2>
            <div class="scene">
                <p>听魔法音符，重复单词，用魔法杖添加一个词到每组！</p>
                <table>
                    <tr>
                        <th>/e/</th>
                        <th>/ea/</th>
                        <th>/ee/</th>
                        <th>/ear/</th>
                    </tr>
                    <tr>
                        <td>/e/ these</td>
                        <td>/ea/ pet</td>
                        <td>/ee/ speak</td>
                        <td>/ear/ head</td>
                    </tr>
                    <tr>
                        <td><input type="text" id="eInput" placeholder="添加/e/魔法词"></td>
                        <td><input type="text" id="eaInput" placeholder="添加/ea/魔法词"></td>
                        <td><input type="text" id="eeInput" placeholder="添加/ee/魔法词"></td>
                        <td><input type="text" id="earInput" placeholder="添加/ear/魔法词"></td>
                    </tr>
                </table>
                <button onclick="checkPronunciation()">施展音符魔法！</button>
                <p id="pronunciationFeedback"></p>
                <div class="audio">[🎧 插入音频：/e/, /ea/, /ee/, /ear/发音]</div>
                <div class="bulletin-animation">音符魔法成功！</div>
            </div>
        </div>

        <!-- 拓展任务 -->
        <div class="section">
            <h2>魔法任务：创建规则手册</h2>
            <div class="scene">
                <p>成为魔法学院的规则守护者！创建一本魔法规则手册，包含至少3条规则（如“Don’t cast spells in hallways”）和一幅魔法图标描述。</p>
                <div class="manual-area">
                    <textarea id="manualInput" placeholder="输入你的魔法规则手册内容..." rows="5" cols="50"></textarea>
                    <button onclick="submitManual()">提交手册</button>
                    <p id="manualFeedback"></p>
                </div>
                <p>角色扮演：与同学扮演规则守护者，讨论“你最喜欢的魔法规则是什么？为什么？”</p>
                <div class="dialog">
                    <p>示例：Guardian 1: "I like ‘Don’t litter’ because it keeps the academy magical."</p>
                    <p>Guardian 2: "I agree! I also like ‘Wear the uniform’ for unity."</p>
                </div>
                <div class="bulletin-animation">规则守护者荣耀！</div>
            </div>
        </div>

        <script>
            // 模拟音频播放（需替换为真实音频路径）
            function playSound(file) {
                alert(`播放魔法发音：${file}`);
                // 实际使用：<audio controls><source src="${file}" type="audio/mpeg"></audio>
            }

            // 规则谜题
            let revealedRules = [];
            function revealRule(rule) {
                if (!revealedRules.includes(rule)) {
                    revealedRules.push(rule);
                    document.getElementById('revealedRules').innerHTML += `<p>${rule}</p>`;
                    alert(`魔法揭秘：${rule}`);
                }
            }

            // AI对话交互
            function aiResponse() {
                const name = document.getElementById('wizardName').value;
                if (name) {
                    document.getElementById('aiReply').classList.remove('hidden');
                }
            }

            function showRuleDialog() {
                document.getElementById('ruleDialog').classList.remove('hidden');
            }

            function userReply(reply) {
                alert(`你说：${reply}`);
                const followup = document.getElementById('aiFollowup');
                const final = document.getElementById('aiFinal');
                if (!followup.classList.contains('hidden')) {
                    followup.classList.add('hidden');
                    final.classList.remove('hidden');
                } else {
                    followup.classList.remove('hidden');
                }
            }

            // 拖拽游戏
            function allowDrop(event) {
                event.preventDefault();
            }

            function drag(event) {
                event.dataTransfer.setData("text", event.target.id);
            }

            function drop(event) {
                event.preventDefault();
                const data = event.dataTransfer.getData("text");
                event.target.appendChild(document.getElementById(data));
                alert("魔法规则记录成功！");
            }

            function dropSentence(event, zone) {
                event.preventDefault();
                const data = event.dataTransfer.getData("text");
                const item = document.getElementById(data);
                event.target.appendChild(item);
                alert(`魔法句子完成：${event.target.textContent}`);
                checkSentenceCompletion(zone);
            }

            function checkSentenceCompletion(zone) {
                const zones = ['zone1', 'zone2', 'zone3'];
                let complete = true;
                zones.forEach(z => {
                    const dropZone = document.getElementById(`dropZone${z.slice(-1)}`);
                    if (!dropZone.querySelector('.drag-item')) complete = false;
                });
                if (complete) {
                    alert("恭喜！所有魔法句子解锁！");
                }
            }

            // 听力规则检查
            function checkRule(rule) {
                const correctRules = ['Don’t cast spells in hallways', 'Wear the wizard uniform', 'Don’t use magic phones in lessons'];
                if (correctRules.includes(rule)) {
                    alert(`正确！${rule}激活魔法水晶！`);
                } else {
                    alert("试试其他规则！魔法水晶未响应...");
                }
            }

            // 发音检查
            function checkPronunciation() {
                const e = document.getElementById('eInput').value.toLowerCase();
                const ea = document.getElementById('eaInput').value.toLowerCase();
                const ee = document.getElementById('eeInput').value.toLowerCase();
                const ear = document.getElementById('earInput').value.toLowerCase();
                let feedback = '';
                if (e && ['these', 'pen', 'get'].some(w => e.includes(w))) feedback += 'Good /e/ magic word! ';
                if (ea && ['pet', 'set', 'let'].some(w => ea.includes(w))) feedback += 'Good /ea/ magic word! ';
                if (ee && ['speak', 'week', 'meet'].some(w => ee.includes(w))) feedback += 'Good /ee/ magic word! ';
                if (ear && ['head', 'bread', 'dead'].some(w => ear.includes(w))) feedback += 'Good /ear/ magic word! ';
                document.getElementById('pronunciationFeedback').innerHTML = feedback || 'Try a magic word again!';
            }

            // 规则手册提交
            function submitManual() {
                const manual = document.getElementById('manualInput').value;
                if (manual.includes('Don’t') || manual.includes('Wear') || manual.includes('Be')) {
                    document.getElementById('manualFeedback').innerHTML = "<span class='bulletin'>Amazing! Your magic rule manual is legendary!</span>";
                } else {
                    document.getElementById('manualFeedback').innerHTML = "Add a rule like ‘Don’t cast spells in hallways’!";
                }
            }
        </script>
    </div>
</body>
</html>
