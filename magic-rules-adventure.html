<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Rules Adventure - äº¤äº’å¼å­¦ä¹ è¯¾ä»¶</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #1a1a2e;
            color: #e5e5e5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .section {
            background-color: #16213e;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .scene {
            background: linear-gradient(#533483, #a2d2ff);
            border: 2px dashed #e94560;
            padding: 10px;
            margin: 10px 0;
            position: relative;
        }
        .dialog {
            background-color: #e5e5e5;
            color: #16213e;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }
        .bulletin {
            color: #e94560;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .interactive {
            color: #a2d2ff;
            cursor: pointer;
            text-decoration: underline;
        }
        .vocab-list, .rule-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .vocab-item, .rule-card {
            background-color: #533483;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .vocab-item:hover, .rule-card:hover {
            background-color: #6a4c93;
        }
        .checkbox {
            margin-right: 10px;
        }
        .game-area {
            background-color: #1a759f;
            padding: 15px;
            border-radius: 5px;
        }
        .bulletin-animation {
            position: absolute;
            top: 10px;
            right: -50px;
            font-size: 12px;
            color: #ff6b6b;
            animation: slide 3s infinite;
        }
        @keyframes slide {
            0% { right: -50px; opacity: 0; }
            50% { right: 10px; opacity: 1; }
            100% { right: 100px; opacity: 0; }
        }
        .hidden { display: none; }
        .drag-item {
            background-color: #e94560;
            padding: 5px;
            margin: 5px;
            border-radius: 5px;
            cursor: move;
        }
        .drop-zone {
            background-color: #a2d2ff;
            padding: 10px;
            margin: 5px;
            border: 2px dashed #533483;
            min-height: 50px;
        }
        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
        }
        .puzzle-piece {
            background-color: #4caf50;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
        }
        .manual-area {
            border: 2px dotted #e94560;
            padding: 15px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Magic Rules Adventure - äº¤äº’å¼å­¦ä¹ è¯¾ä»¶</h1>
        <p>æ¬¢è¿è¿›å…¥é­”æ³•å­¦é™¢ï¼è·Ÿéšå·«å¸ˆAnneå’ŒTomï¼Œè§£é”é­”æ³•è§„åˆ™ï¼ŒæŒæ¡è‹±è¯­é­”æ³•ï¼</p>

        <!-- æƒ…æ™¯å¯¼å…¥ -->
        <div class="section">
            <h2>å†’é™©å¼€å§‹ï¼šé­”æ³•å­¦é™¢å¤§é—¨</h2>
            <div class="scene">
                <p>åœºæ™¯ï¼šé­”æ³•å­¦é™¢å¤§é—¨ï¼ŒAnneå’ŒTomç©¿ç€å·«å¸ˆè¢ï¼Œæ‰‹æŒé­”æ³•æ–ï¼Œé—¨ä¸Šé—ªçƒâ€œè§„åˆ™å®ˆæŠ¤ç¬¦â€ã€‚</p>
                <p class="bulletin">Anne: "Tom, welcome to Magic Academy! But we need rules to keep the magic safe!"</p>
                <p>Tom: "Rules? Likeâ€”<span class="interactive" onclick="alert('Donâ€™t cast wild spells in the Great Hall!')">Donâ€™t cast wild spells in the Great Hall!</span>"</p>
                <div class="audio">[ğŸ§ æ’å…¥éŸ³é¢‘ï¼šé­”æ³•å­¦é™¢å†’é™©å¯¹è¯]</div>
                <p>ç‚¹å‡»å®ˆæŠ¤ç¬¦è¿›å…¥é­”æ³•æŒ‘æˆ˜ï¼</p>
                <div class="bulletin-animation">å†’é™©å¼€å¯ï¼</div>
            </div>
        </div>

        <!-- è¯æ±‡å­¦ä¹ ï¼šé­”æ³•è°œé¢˜ï¼ˆ1aï¼‰ -->
        <div class="section">
            <h2>é­”æ³•è°œé¢˜ï¼šè§£é”è§„åˆ™è¯æ±‡</h2>
            <div class="scene">
                <p>é­”æ³•å­¦é™¢æœ‰ç¥ç§˜è§„åˆ™ï¼å®Œæˆè°œé¢˜å­¦ä¹ è¯æ±‡ï¼Œç‚¹å‡»é­”æ³•å·è½´å¬å‘éŸ³ï¼</p>
                <div class="puzzle-grid">
                    <div class="puzzle-piece" onclick="revealRule('Donâ€™t be late for class. Arrive on time.')">è¿Ÿåˆ°ç¦ä»¤</div>
                    <div class="puzzle-piece" onclick="revealRule('Donâ€™t run or cast spells in the hallways.')">èµ°å»Šç¦ä»¤</div>
                    <div class="puzzle-piece" onclick="revealRule('Wear the wizard uniform or robe.')">æœè£…è¦æ±‚</div>
                    <div class="puzzle-piece" onclick="revealRule('Donâ€™t use magic devices in lessons.')">è®¾å¤‡ç¦ä»¤</div>
                    <div class="puzzle-piece" onclick="revealRule('Donâ€™t litter. Keep the academy magical and tidy.')">æ¸…æ´é­”æ³•</div>
                    <div class="puzzle-piece" onclick="revealRule('Be polite and respect all wizards.')">ç¤¼è²Œé­”æ³•</div>
                    <div class="puzzle-piece" onclick="revealRule('Raise your wand to ask questions.')">æé—®é­”æ³•</div>
                </div>
                <p id="revealedRules"></p>
                <div class="vocab-list">
                    <div class="vocab-item" onclick="playSound('dont-be-late.mp3')">Donâ€™t be late</div>
                    <div class="vocab-item" onclick="playSound('dont-run-spells.mp3')">Donâ€™t run/spells</div>
                    <div class="vocab-item" onclick="playSound('wear-uniform.mp3')">Wear uniform</div>
                    <div class="vocab-item" onclick="playSound('dont-use-magic.mp3')">Donâ€™t use magic</div>
                    <div class="vocab-item" onclick="playSound('dont-litter.mp3')">Donâ€™t litter</div>
                    <div class="vocab-item" onclick="playSound('be-polite.mp3')">Be polite</div>
                    <div class="vocab-item" onclick="playSound('raise-wand.mp3')">Raise wand</div>
                </div>
                <p>å°æ¸¸æˆï¼šæ‹–æ‹½ä¸€ä¸ªè§„åˆ™åˆ°é­”æ³•ä¹¦ï¼</p>
                <div class="drag-item" draggable="true" ondragstart="drag(event)" id="dragRule">Donâ€™t run in hallways</div>
                <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)" id="magicBook">
                    <p>æ‹–åˆ°è¿™é‡Œè®°å½•è§„åˆ™ï¼</p>
                </div>
                <p>å†™ä½œä»»åŠ¡ï¼šåˆ›é€ ä¸€æ¡æ–°é­”æ³•è§„åˆ™ï¼Œå¦‚â€œDonâ€™t summon creatures in the library.â€</p>
                <div class="bulletin-animation">è¯æ±‡é­”æ³•è§£é”ï¼</div>
            </div>
        </div>

        <!-- å¯¹è¯ç»ƒä¹ ï¼šé­”æ³•å¯¹è¯ï¼ˆ1bï¼‰ -->
        <div class="section">
            <h2>é­”æ³•å¯¹è¯ï¼šä¸å·«å¸ˆäº’åŠ¨</h2>
            <div class="scene">
                <p>ä¸AIå·«å¸ˆAnneå¯¹è¯ï¼Œç»ƒä¹ é­”æ³•è§„åˆ™å¯¹è¯ï¼</p>
                <div class="dialog">
                    <p>Anne: "Greetings, young wizard! Whatâ€™s your magical name?"</p>
                    <input type="text" id="wizardName" placeholder="è¾“å…¥ä½ çš„é­”æ³•åå­—">
                    <button onclick="aiResponse()">æ–½å±•é­”æ³•ï¼</button>
                    <p id="aiReply" class="hidden">Tom: "Iâ€™m Tom the Novice. Are there many rules in Magic Academy?"</p>
                    <p>ç»§ç»­å¯¹è¯ï¼šç‚¹å‡»æé—®è§„åˆ™ï¼</p>
                    <button onclick="showRuleDialog()">é—®Anneè§„åˆ™</button>
                    <div id="ruleDialog" class="hidden dialog">
                        <p>Anne: "Can we cast spells in the Spell Room?"</p>
                        <button onclick="userReply('Yes, we can, but only safe spells!')">Yes, we can.</button>
                        <p id="aiFollowup" class="hidden">Anne: "What about using magic phones during lessons?"</p>
                        <button onclick="userReply('No, we canâ€™t. Donâ€™t use magic phones in lessons.')">No, we canâ€™t.</button>
                        <p id="aiFinal" class="hidden">Anne: "Brilliant, Tom! Youâ€™re a rules master!"</p>
                    </div>
                </div>
                <div class="audio">[ğŸ§ æ’å…¥éŸ³é¢‘ï¼š1bå¯¹è¯ï¼ŒAnneå’ŒTomé­”æ³•å¯¹è¯]</div>
                <p>å¬åŠ›æ¸¸æˆï¼šå¬å½•éŸ³ï¼Œæ‰¾åˆ°â€œWho lost their magic wand?â€ï¼ˆç­”æ¡ˆï¼šTomï¼‰</p>
                <div class="bulletin-animation">å¯¹è¯é­”æ³•æˆåŠŸï¼</div>
            </div>
        </div>

        <!-- å°æ¸¸æˆï¼šé­”æ³•ä»»åŠ¡ï¼ˆ1c, 1dï¼‰ -->
        <div class="section">
            <h2>é­”æ³•ä»»åŠ¡ï¼šè§„åˆ™æŒ‘æˆ˜</h2>
            <div class="game-area">
                <p>æ¸¸æˆ 1ï¼šé­”æ³•é…å¯¹ï¼ˆ1cï¼‰ï¼è§£é”å¥å­è°œé¢˜ï¼Œæ‹–æ‹½è§„åˆ™å®Œæˆä»»åŠ¡ã€‚</p>
                <div id="dragArea">
                    <div draggable="true" class="drag-item" id="action1">cast spells</div>
                    <div draggable="true" class="drag-item" id="action2">wear robes</div>
                    <div draggable="true" class="drag-item" id="action3">litter</div>
                    <div draggable="true" class="drag-item" id="action4">keep clean</div>
                    <div draggable="true" class="drag-item" id="action5">run</div>
                    <div draggable="true" class="drag-item" id="action6">walk</div>
                </div>
                <div class="drop-zone" ondrop="dropSentence(event, 'zone1')" ondragover="allowDrop(event)">
                    <p>Mary canâ€™t ___ in the hallways. She has to ___ slowly.</p>
                </div>
                <div class="drop-zone" ondrop="dropSentence(event, 'zone2')" ondragover="allowDrop(event)">
                    <p>Sally mustnâ€™t ___ at the academy. She has to ___ her uniform.</p>
                </div>
                <div class="drop-zone" ondrop="dropSentence(event, 'zone3')" ondragover="allowDrop(event)">
                    <p>Tony canâ€™t ___. He must ___ the academy magical.</p>
                </div>
                <p>æ¸¸æˆ 2ï¼šé­”æ³•å¬åŠ›ï¼ˆ1dï¼‰ï¼å¬å½•éŸ³ï¼Œæ‰¾åˆ°æ­£ç¡®çš„é­”æ³•è§„åˆ™ï¼Œç‚¹å‡»é­”æ³•æ°´æ™¶æ¿€æ´»ã€‚</p>
                <div class="rule-list">
                    <div class="rule-card" onclick="checkRule('Donâ€™t cast spells in hallways')">Donâ€™t cast spells in hallways</div>
                    <div class="rule-card" onclick="checkRule('Wear the wizard uniform')">Wear the wizard uniform</div>
                    <div class="rule-card" onclick="checkRule('Donâ€™t use magic phones in lessons')">Donâ€™t use magic phones in lessons</div>
                </div>
                <div class="audio">[ğŸ§ æ’å…¥éŸ³é¢‘ï¼š1då½•éŸ³ï¼Œè¯†åˆ«é­”æ³•è§„åˆ™]</div>
                <p>è§’è‰²æ‰®æ¼”ï¼ˆ1eï¼‰ï¼šä¸åŒå­¦æ‰®æ¼”å·«å¸ˆï¼Œè®¨è®ºâ€œCan Mary cast spells in the Great Hall?â€</p>
                <div class="dialog">
                    <p>ç¤ºä¾‹ï¼šWizard 1: "Can Mary cast spells in the Great Hall?"</p>
                    <p>Wizard 2: "No, she canâ€™t. She can only cast safe spells in the Spell Room."</p>
                </div>
                <div class="bulletin-animation">é­”æ³•æŒ‘æˆ˜èƒœåˆ©ï¼</div>
            </div>
        </div>

        <!-- å‘éŸ³ç»ƒä¹ ï¼ˆPronunciationï¼‰ -->
        <div class="section">
            <h2>é­”æ³•éŸ³ç¬¦ï¼šå‘éŸ³æŒ‘æˆ˜</h2>
            <div class="scene">
                <p>å¬é­”æ³•éŸ³ç¬¦ï¼Œé‡å¤å•è¯ï¼Œç”¨é­”æ³•æ–æ·»åŠ ä¸€ä¸ªè¯åˆ°æ¯ç»„ï¼</p>
                <table>
                    <tr>
                        <th>/e/</th>
                        <th>/ea/</th>
                        <th>/ee/</th>
                        <th>/ear/</th>
                    </tr>
                    <tr>
                        <td>/e/ these</td>
                        <td>/ea/ pet</td>
                        <td>/ee/ speak</td>
                        <td>/ear/ head</td>
                    </tr>
                    <tr>
                        <td><input type="text" id="eInput" placeholder="æ·»åŠ /e/é­”æ³•è¯"></td>
                        <td><input type="text" id="eaInput" placeholder="æ·»åŠ /ea/é­”æ³•è¯"></td>
                        <td><input type="text" id="eeInput" placeholder="æ·»åŠ /ee/é­”æ³•è¯"></td>
                        <td><input type="text" id="earInput" placeholder="æ·»åŠ /ear/é­”æ³•è¯"></td>
                    </tr>
                </table>
                <button onclick="checkPronunciation()">æ–½å±•éŸ³ç¬¦é­”æ³•ï¼</button>
                <p id="pronunciationFeedback"></p>
                <div class="audio">[ğŸ§ æ’å…¥éŸ³é¢‘ï¼š/e/, /ea/, /ee/, /ear/å‘éŸ³]</div>
                <div class="bulletin-animation">éŸ³ç¬¦é­”æ³•æˆåŠŸï¼</div>
            </div>
        </div>

        <!-- æ‹“å±•ä»»åŠ¡ -->
        <div class="section">
            <h2>é­”æ³•ä»»åŠ¡ï¼šåˆ›å»ºè§„åˆ™æ‰‹å†Œ</h2>
            <div class="scene">
                <p>æˆä¸ºé­”æ³•å­¦é™¢çš„è§„åˆ™å®ˆæŠ¤è€…ï¼åˆ›å»ºä¸€æœ¬é­”æ³•è§„åˆ™æ‰‹å†Œï¼ŒåŒ…å«è‡³å°‘3æ¡è§„åˆ™ï¼ˆå¦‚â€œDonâ€™t cast spells in hallwaysâ€ï¼‰å’Œä¸€å¹…é­”æ³•å›¾æ ‡æè¿°ã€‚</p>
                <div class="manual-area">
                    <textarea id="manualInput" placeholder="è¾“å…¥ä½ çš„é­”æ³•è§„åˆ™æ‰‹å†Œå†…å®¹..." rows="5" cols="50"></textarea>
                    <button onclick="submitManual()">æäº¤æ‰‹å†Œ</button>
                    <p id="manualFeedback"></p>
                </div>
                <p>è§’è‰²æ‰®æ¼”ï¼šä¸åŒå­¦æ‰®æ¼”è§„åˆ™å®ˆæŠ¤è€…ï¼Œè®¨è®ºâ€œä½ æœ€å–œæ¬¢çš„é­”æ³•è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿâ€</p>
                <div class="dialog">
                    <p>ç¤ºä¾‹ï¼šGuardian 1: "I like â€˜Donâ€™t litterâ€™ because it keeps the academy magical."</p>
                    <p>Guardian 2: "I agree! I also like â€˜Wear the uniformâ€™ for unity."</p>
                </div>
                <div class="bulletin-animation">è§„åˆ™å®ˆæŠ¤è€…è£è€€ï¼</div>
            </div>
        </div>

        <script>
            // æ¨¡æ‹ŸéŸ³é¢‘æ’­æ”¾ï¼ˆéœ€æ›¿æ¢ä¸ºçœŸå®éŸ³é¢‘è·¯å¾„ï¼‰
            function playSound(file) {
                alert(`æ’­æ”¾é­”æ³•å‘éŸ³ï¼š${file}`);
                // å®é™…ä½¿ç”¨ï¼š<audio controls><source src="${file}" type="audio/mpeg"></audio>
            }

            // è§„åˆ™è°œé¢˜
            let revealedRules = [];
            function revealRule(rule) {
                if (!revealedRules.includes(rule)) {
                    revealedRules.push(rule);
                    document.getElementById('revealedRules').innerHTML += `<p>${rule}</p>`;
                    alert(`é­”æ³•æ­ç§˜ï¼š${rule}`);
                }
            }

            // AIå¯¹è¯äº¤äº’
            function aiResponse() {
                const name = document.getElementById('wizardName').value;
                if (name) {
                    document.getElementById('aiReply').classList.remove('hidden');
                }
            }

            function showRuleDialog() {
                document.getElementById('ruleDialog').classList.remove('hidden');
            }

            function userReply(reply) {
                alert(`ä½ è¯´ï¼š${reply}`);
                const followup = document.getElementById('aiFollowup');
                const final = document.getElementById('aiFinal');
                if (!followup.classList.contains('hidden')) {
                    followup.classList.add('hidden');
                    final.classList.remove('hidden');
                } else {
                    followup.classList.remove('hidden');
                }
            }

            // æ‹–æ‹½æ¸¸æˆ
            function allowDrop(event) {
                event.preventDefault();
            }

            function drag(event) {
                event.dataTransfer.setData("text", event.target.id);
            }

            function drop(event) {
                event.preventDefault();
                const data = event.dataTransfer.getData("text");
                event.target.appendChild(document.getElementById(data));
                alert("é­”æ³•è§„åˆ™è®°å½•æˆåŠŸï¼");
            }

            function dropSentence(event, zone) {
                event.preventDefault();
                const data = event.dataTransfer.getData("text");
                const item = document.getElementById(data);
                event.target.appendChild(item);
                alert(`é­”æ³•å¥å­å®Œæˆï¼š${event.target.textContent}`);
                checkSentenceCompletion(zone);
            }

            function checkSentenceCompletion(zone) {
                const zones = ['zone1', 'zone2', 'zone3'];
                let complete = true;
                zones.forEach(z => {
                    const dropZone = document.getElementById(`dropZone${z.slice(-1)}`);
                    if (!dropZone.querySelector('.drag-item')) complete = false;
                });
                if (complete) {
                    alert("æ­å–œï¼æ‰€æœ‰é­”æ³•å¥å­è§£é”ï¼");
                }
            }

            // å¬åŠ›è§„åˆ™æ£€æŸ¥
            function checkRule(rule) {
                const correctRules = ['Donâ€™t cast spells in hallways', 'Wear the wizard uniform', 'Donâ€™t use magic phones in lessons'];
                if (correctRules.includes(rule)) {
                    alert(`æ­£ç¡®ï¼${rule}æ¿€æ´»é­”æ³•æ°´æ™¶ï¼`);
                } else {
                    alert("è¯•è¯•å…¶ä»–è§„åˆ™ï¼é­”æ³•æ°´æ™¶æœªå“åº”...");
                }
            }

            // å‘éŸ³æ£€æŸ¥
            function checkPronunciation() {
                const e = document.getElementById('eInput').value.toLowerCase();
                const ea = document.getElementById('eaInput').value.toLowerCase();
                const ee = document.getElementById('eeInput').value.toLowerCase();
                const ear = document.getElementById('earInput').value.toLowerCase();
                let feedback = '';
                if (e && ['these', 'pen', 'get'].some(w => e.includes(w))) feedback += 'Good /e/ magic word! ';
                if (ea && ['pet', 'set', 'let'].some(w => ea.includes(w))) feedback += 'Good /ea/ magic word! ';
                if (ee && ['speak', 'week', 'meet'].some(w => ee.includes(w))) feedback += 'Good /ee/ magic word! ';
                if (ear && ['head', 'bread', 'dead'].some(w => ear.includes(w))) feedback += 'Good /ear/ magic word! ';
                document.getElementById('pronunciationFeedback').innerHTML = feedback || 'Try a magic word again!';
            }

            // è§„åˆ™æ‰‹å†Œæäº¤
            function submitManual() {
                const manual = document.getElementById('manualInput').value;
                if (manual.includes('Donâ€™t') || manual.includes('Wear') || manual.includes('Be')) {
                    document.getElementById('manualFeedback').innerHTML = "<span class='bulletin'>Amazing! Your magic rule manual is legendary!</span>";
                } else {
                    document.getElementById('manualFeedback').innerHTML = "Add a rule like â€˜Donâ€™t cast spells in hallwaysâ€™!";
                }
            }
        </script>
    </div>
</body>
</html>
